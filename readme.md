
# VTT Text Extractor

This Python script extracts unique sentences from a VTT (Video Text Track) file and saves them to a text file. Additionally, it demonstrates the usage of the OpenAI API by generating text based on a prompt and appending it to the output file.

## Prerequisites

- Python 3.x
- OpenAI Python library (`pip install openai`)
- VTT Python library (`python -m pip install -U --pre yt-dlp`)
- Extract a video (`yt-dlp --skip-download --write-sub --sub-lang de-orig "<youtube link>"`)

## Setup

1. Clone the repository or download the script file.
2. Set the `OPENAI_API_KEY` environment variable with your OpenAI API key. You can obtain an API key by creating an account on the [OpenAI website](https://openai.com/).

   - On Windows, open the Start menu, search for "Environment Variables", and select "Edit the system environment variables". Click the "Environment Variables" button, then under "System Variables", click "New". Set the "Variable Name" to `OPENAI_API_KEY` and the "Variable Value" to your actual OpenAI API key.
   - On macOS/Linux, open a terminal and run the following command, replacing `<your_api_key>` with your actual OpenAI API key:
     ```
     export OPENAI_API_KEY=<your_api_key>
     ```

## Usage

```python script.py <vtt_file_path>```

- `<vtt_file_path>`: The path to the VTT file you want to process.

The script will create a new text file with the same name as the VTT file, but with "_temp.txt" appended to it (e.g., `file_temp.txt`). The file will contain the unique sentences extracted from the VTT file, followed by the text generated by the OpenAI API.

## Example

```python script.py path/to/your/file.vtt``` 

This command will process the VTT file located at `path/to/your/file.vtt`.

## Code Overview

The script consists of the following functions:

- `get_openai_api_key()`: Retrieves the OpenAI API key from the `OPENAI_API_KEY` environment variable.
- `extract_unique_sentences_from_vtt(vtt_content)`: Extracts unique sentences from the VTT content by splitting the content into blocks based on timestamps, cleaning the blocks, and removing duplicate sentences.
- `main()`: The main function that handles command-line arguments, reads the VTT file, extracts unique sentences, saves the output to a file, and demonstrates the usage of the OpenAI API.

## License

This project is licensed under the [MIT License](LICENSE).
